<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portal de noticias San Isidro</title>
 
    <link rel="icon" type="image/png" href="https://media.istockphoto.com/id/1368872054/es/vector/b%C3%BAsqueda-y-lectura-de-noticias-en-l%C3%ADnea-actualizaciones-de-noticias-sitios-web-de-noticias.jpg?s=612x612&w=0&k=20&c=x9KiTGw4eZGkEjEUfHWTNJsrip9rv6EyMpNXPFYj3r4=" sizes="16x16">  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
</head>
<body>
    <header>
        <div class="container header-content">
            <div class="logo" id="go-home">
                <i class="fas fa-newspaper"></i>
                <h1>Noticias para la comunidad de San Isidro</h1>
            </div>
            <div class="auth-section">
                <div id="user-info" class="hidden">
                    <div id="user-avatar"></div>
                    <span id="user-email"></span>
                    <button id="logout-btn" class="logout">Cerrar Sesión</button>
                </div>
            </div>
        </div>
    </header>
            
    <main class="container">
        <!-- Vista de categorías con noticias -->
        <section id="categories-section">
            <div class="actions-bar">
                <h2 class="section-title">Noticias Por Categorías</h2>
                <div class="filter-section">
                    <div class="search-box">
                        <input type="text" id="search-input" placeholder="Buscar noticias...">
                        <i class="fas fa-search"></i>
                    </div>
                </div>
            </div>
            <div id="filter-stats" class="filter-stats"></div>
            <div id="categories-loading" class="loading">
                <i class="fas fa-spinner fa-spin"></i>
                <p>Cargando noticias...</p>
            </div>
            <div id="categories-container" class="categories-grid"></div>
        </section>
        
        <!-- Vista de noticias de una categoría específica -->
        <section id="category-detail-section" class="hidden">
            <div class="actions-bar">
                <h2 class="section-title" id="category-title">Categoría</h2>
                <div class="category-actions">
                    <button id="back-to-categories" class="back-button">
                        <i class="fas fa-arrow-left"></i> Volver a categorías
                    </button>
                </div>
            </div>
            
            <!-- Campo de búsqueda específico para la categoría -->
            <div class="category-search-section">
                <div class="search-box">
                    <input type="text" id="category-search-input" placeholder="Buscar noticias en esta categoría...">
                    <i class="fas fa-search"></i>
                </div>
                <button id="clear-category-search-public" class="clear-filter-btn" style="display: none;">
                    <i class="fas fa-times"></i> Limpiar búsqueda
                </button>
            </div>

            <div id="category-news-loading" class="loading">
                <i class="fas fa-spinner fa-spin"></i>
                <p>Cargando noticias...</p>
            </div>
            <div id="category-news-container" class="news-grid"></div>
        </section>
        
        <!-- Vista detallada de noticia -->
        <section id="news-detail-section" class="hidden">
            <div class="actions-bar">
                <button id="back-button" class="back-button"><i class="fas fa-arrow-left"></i> Volver</button>
            </div>
            <div id="news-detail-loading" class="loading">
                <i class="fas fa-spinner fa-spin"></i>
                <p>Cargando noticia...</p>
            </div>
            <div id="news-detail-container" class="news-detail-container hidden">
                <div class="news-detail-header">
                    <div class="news-detail-meta">
                        <span id="news-detail-category" class="news-category news-detail-category">Categoría</span>
                        <span id="news-detail-author" class="news-detail-author"></span>
                    </div>
                    <h1 id="news-detail-title" class="news-detail-title">Título de la noticia</h1>
                    <div class="news-date">
                        <i class="far fa-calendar-alt"></i>
                        <span id="news-detail-date">Fecha de publicación</span>
                    </div>
                </div>
                <div id="news-detail-image" class="news-detail-image"></div>
                <div class="news-detail-body">
                    <h3 id="news-detail-summary" class="news-summary-large"></h3>
                    <div id="news-detail-content" class="news-detail-content">
                        Contenido de la noticia...
                    </div>
                </div>
                <div class="news-detail-footer">
                    <span>Portal de Noticias</span>
                    <button id="share-news" class="back-button"><i class="fas fa-share-alt"></i> Compartir</button>
                </div>
            </div>
        </section>
    </main>
    
    <footer>
        <div class="container">
            <p>Portal de Noticias San Isidro y sus alrededores &copy; <span id="current-year"></span></p>
        </div>
    </footer>

    <script src="firebase-config.js"></script>
    <script src="subcategorias.js"></script>
    <script src="index.js"></script>
</body>
</html>